<!doctype html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <title>Розрахунок стелажу</title>
    <link rel="stylesheet" href="./styles/styles.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- HEADER -->
      <header class="site-header">
        <nav class="site-nav">
          <ul class="nav-list">
            <!-- <li><button data-view="rack" class="nav-btn">Стелаж</button></li>
            <li><button data-view="battery" class="nav-btn">Акумулятор</button></li> -->
          </ul>
        </nav>
      </header>

      <!-- MAIN -->
      <main id="app" class="site-main">
        <!-- Секція стелажа -->
        <section id="view-rack" class="view section" hidden>
          <h2>Розрахунок стелажа</h2>
          <div class="section__content">
            <div class="rack-params">
              <fieldset class="rack-params__fieldset">
                <legend>Параметри стелажа</legend>
                <form id="rackForm" class="form rackForm">
                  <div class="form-row rackForm__form-row">
                    <label for="floors"
                      >Кількість поверхів:
                      <input type="number" id="floors" min="1" max="10" value="1" required />
                    </label>
                  </div>
                  <div class="form-row rackForm__form-row">
                    <label for="verticalSupports"
                      >Вертикальна опора:
                      <select id="verticalSupports" required>
                        <option value="" disabled selected>Оберіть вертикальну опору</option>
                      </select>
                    </label>
                  </div>
                  <div class="form-row rackForm__form-row">
                    <label for="supports"
                      >Опора:
                      <select id="supports" required>
                        <option value="" disabled selected>Оберіть опору</option>
                      </select>
                    </label>
                  </div>
                  <div class="form-row rackForm__form-row">
                    <label for="rows"
                      >Кількість рядів:
                      <input type="number" id="rows" min="1" max="4" value="1" required />
                    </label>
                  </div>
                  <div class="form-row rackForm__form-row">
                    <label for="beamsPerRow"
                      >Кількість балок на один ряд:
                      <input type="number" id="beamsPerRow" min="2" max="4" value="2" step="1" required />
                    </label>
                  </div>
                  <div class="form-row rackForm__form-row">
                    <label>Прольоти:</label>
                    <div id="beamsContainer" class="rackForm__beamsContainer" data-dynamic="beams"></div>
                    <button type="button" id="addBeam" class="btn btn--secondary">+ Додати проліт</button>
                  </div>
                </form>
              </fieldset>
            </div>

            <div class="rack-results">
              <div class="rack-name">
                <strong>Назва стелажа:</strong>
                <div id="rackName">---</div>
              </div>

              <div class="components-section">
                <h3>Таблиця компонентів стелажа</h3>
                <div id="componentsTable" class="components-section__table" data-dynamic="components"></div>
              </div>
            </div>
          </div>
        </section>

        <!-- Секція акумулятора -->
        <section id="view-battery" class="view section battery">
          <h2>Вибір стелажа для батареї за розмірами та вагою одного акумулятора</h2>
          <div class="section__content">
            <form id="batteryForm" class="form batteryForm">
              <fieldset class="battery-params__fieldset">
                <legend>Параметри акумулятора</legend>
                <!-- Довжина + Відстань -->
                <div class="form-row batteryForm__form-row batteryForm__form-row--length">
                  <label for="batteryLength">Довжина L:</label>
                  <input type="number" id="batteryLength" required />
                  <span>+</span>
                  <div class="delta-wrapper">
                    <label for="batteryGap" class="label-delta">&Delta;</label>
                    <input type="number" id="batteryGap" />
                  </div>
                  <span>мм</span>
                </div>

                <!-- Ширина -->
                <div class="form-row batteryForm__form-row">
                  <label for="batteryWidth">Ширина W:</label>
                  <input type="number" id="batteryWidth" required />
                  <span>мм</span>
                </div>

                <!-- Висота -->
                <div class="form-row batteryForm__form-row">
                  <label for="batteryHeight">Висота H:</label>
                  <input type="number" id="batteryHeight" required />
                  <span>мм</span>
                </div>

                <!-- Вага -->
                <div class="form-row batteryForm__form-row">
                  <label for="batteryWeight">Вага:</label>
                  <input type="number" id="batteryWeight" />
                  <span>кг</span>
                </div>
              </fieldset>

              <!-- Кількість -->
              <div class="form-row batteryForm__form-row batteryForm__form-row--count">
                <label for="batteryCount">Кількість:</label>
                <input type="number" id="batteryCount" min="1" value="1" required />
                <span>шт</span>
              </div>

              <!-- Кнопка -->
              <button type="submit" id="batteryCalculateBtn" class="btn btn--primary">Підібрати</button>
            </form>

            <div class="battery-results">
              <h3>Варіанти стелажів</h3>
              <table id="batteryRackTable" class="battery-rack-table">
                <thead></thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </section>
      </main>

      <!-- FOOTER -->
      <footer class="site-footer">
        <div class="footer-container">
          <p>© 2026 Акку-Енерго. Всі права захищені.</p>
        </div>
      </footer>
    </div>

    <script type="module" src="js/main.js" defer></script>
  </body>
</html>
