<!doctype html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <title>Розрахунок стелажу</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:regular,500,600,700,800,900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles/styles.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- HEADER -->
      <header class="site-header">
        <nav class="site-nav">
          <ul class="nav-list">
            <!-- <li><button data-view="rack" class="nav-btn">Стелаж</button></li>
            <li><button data-view="battery" class="nav-btn">Акумулятор</button></li> -->
          </ul>
        </nav>
      </header>

      <!-- MAIN -->
      <main id="app" class="site-main">
        <!-- Секція стелажа -->
        <section id="view-rack" class="rack section" hidden>
          <h2 class="rack__title">Розрахунок стелажа</h2>

          <div class="rack__content section__content">
            <div class="rack__params">
              <form id="rackForm" class="form rack__form">
                <fieldset class="rack__fieldset">
                  <legend class="rack__legend">Параметри стелажа</legend>

                  <div class="rack__row">
                    <label class="rack__label" for="floors">
                      <span>Кількість поверхів</span><span class="dots"></span>
                      <input type="number" id="floors" min="1" max="10" value="1" required />
                    </label>
                  </div>

                  <div class="rack__row">
                    <label class="rack__label" for="verticalSupports">
                      <span>Вертикальна опора</span><span class="dots"></span>
                      <select id="verticalSupports" required></select>
                    </label>
                  </div>

                  <div class="rack__row">
                    <label class="rack__label" for="supports">
                      <span>Опора</span><span class="dots"></span>
                      <select id="supports" required></select>
                    </label>
                  </div>

                  <div class="rack__row">
                    <label class="rack__label" for="rows">
                      <span>Кількість рядів</span><span class="dots"></span>
                      <input type="number" id="rows" min="1" max="4" value="1" required />
                    </label>
                  </div>

                  <div class="rack__row">
                    <label class="rack__label" for="beamsPerRow">
                      <span>Кількість балок в ряду</span><span class="dots"></span>
                      <input type="number" id="beamsPerRow" min="2" max="4" value="2" required />
                    </label>
                  </div>

                  <div class="form-row rackForm__form-row rackForm__form-row--beams">
                    <div class="rackForm__label-group">
                      <label>Прольоти</label>
                      <button
                        type="button"
                        id="addBeam"
                        class="icon-btn icon-btn--add"
                        aria-label="Додати проліт"
                        title="Додати проліт"
                      ></button>
                    </div>

                    <div id="beamsContainer" class="rackForm__beamsContainer" data-dynamic="beams"></div>
                  </div>
                </fieldset>
              </form>
            </div>
            <div class="rack__results">
              <div class="rack__card rack__name-card">
                <div class="rack__card-title">Назва стелажа</div>
                <div id="rackName" class="rack__name-value">---</div>
              </div>

              <div class="rack__card rack__components-card">
                <h3 class="rack__card-title">Компоненти стелажа</h3>
                <div id="componentsTable" class="rack__components-table" data-dynamic="components"></div>
                <div id="rackPrice" class="rack__price"></div>
                <div id="rackSetControls">
                  <button id="addRackBtn">Додати стелаж до комплекту</button>
                </div>
              </div>

              <div class="rack-set rack__card">
                <h3 class="rack-set__title">Комплект стелажів</h3>

                <div id="rackSetTable" class="rack-set__table"></div>

                <div id="rackSetSummary" class="rack-set__summary"></div>

                <div class="rack-set__actions">
                  <button id="openRackSetModal" class="btn btn--primary">Перейти до комплекту</button>
                </div>
              </div>

              <div id="rackSetModal" class="rack-set-modal modal" hidden>
                <div class="rack-set-modal__content modal__content">
                  <button id="closeModal" class="rack-set-modal__close">×</button>
                  <div id="rackSetModalContent" class="rack-set-modal__body"></div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Секція акумулятора -->
        <section id="view-battery" class="view section battery">
          <h2>Вибір стелажа для батареї за розмірами та вагою одного акумулятора</h2>

          <div class="section__content">
            <form id="batteryForm" class="form batteryForm">
              <fieldset class="battery-params__fieldset">
                <legend>Параметри акумулятора</legend>
                <!-- Довжина + Відстань -->
                <div class="form-row batteryForm__form-row batteryForm__form-row--length">
                  <label for="batteryLength">Довжина L:</label>
                  <input type="number" id="batteryLength" required />
                  <span>+</span>
                  <div class="delta-wrapper">
                    <label for="batteryGap" class="label-delta">&Delta;</label>
                    <input type="number" id="batteryGap" />
                  </div>
                  <span>мм</span>
                </div>

                <!-- Ширина -->
                <div class="form-row batteryForm__form-row">
                  <label for="batteryWidth">Ширина W:</label>
                  <input type="number" id="batteryWidth" required />
                  <span>мм</span>
                </div>

                <!-- Висота -->
                <div class="form-row batteryForm__form-row">
                  <label for="batteryHeight">Висота H:</label>
                  <input type="number" id="batteryHeight" required />
                  <span>мм</span>
                </div>

                <!-- Вага -->
                <div class="form-row batteryForm__form-row">
                  <label for="batteryWeight">Вага:</label>
                  <input type="number" id="batteryWeight" />
                  <span>кг</span>
                </div>
              </fieldset>

              <!-- Кількість -->
              <div class="form-row batteryForm__form-row batteryForm__form-row--count">
                <label for="batteryCount">Кількість:</label>
                <input type="number" id="batteryCount" min="1" value="1" required />
                <span>шт</span>
              </div>

              <!-- Кнопка -->
              <button type="submit" id="batteryCalculateBtn" class="btn btn--primary">Підібрати</button>
            </form>

            <div class="battery-results">
              <h3>Варіанти стелажів</h3>
              <table id="batteryRackTable" class="battery-rack-table">
                <thead></thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </section>
      </main>

      <!-- FOOTER -->
      <footer class="site-footer">
        <div class="footer-container">
          <p>© 2026 Акку-енерго. Всі права захищені.</p>
        </div>
      </footer>
    </div>

    <script type="module" src="js/main.js" defer></script>
  </body>
</html>
